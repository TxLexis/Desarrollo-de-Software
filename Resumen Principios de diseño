# Resumen: Principios BÃ¡sicos de DiseÃ±o de Software

---

## ğŸ¯ **Â¿QuÃ© son los Principios de DiseÃ±o?**

**DefiniciÃ³n:** Reglas guÃ­a (heurÃ­sticas) que ayudan a estructurar cÃ³digo para reducir complejidad y facilitar cambios.

**Objetivo:** Hacer el software:
- FÃ¡cil de **entender**
- FÃ¡cil de **cambiar**
- DifÃ­cil de **romper**

**Realidad:** El software cambia mÃ¡s de lo que se "termina" â†’ diseÃ±ar para el cambio es crucial.

---

## ğŸ‘¹ **El Enemigo ComÃºn: La Complejidad**

**Complejidad = mÃ¡s tiempo para entender + mÃ¡s bugs + miedo a cambiar**

Los principios de diseÃ±o buscan **reducir la complejidad accidental** (la que nosotros creamos).

---

## ğŸ“‹ **Los 4 Principios Fundamentales**

### **1. KISS (Keep It Simple)**
### **2. CohesiÃ³n**
### **3. Acoplamiento**
### **4. SRP (Responsabilidad Ãšnica)**

---

# 1ï¸âƒ£ **Principio KISS (Keep It Simple)**

## **Â¿QuÃ© es KISS?**

**DefiniciÃ³n:** Preferir soluciones **claras y directas** sobre soluciones "ingeniosas".

**Regla de oro:** Si nadie entiende el cÃ³digo excepto quien lo escribiÃ³, **no es simple**.

---

## **Â¿QuÃ© NO es KISS?**

âŒ Menos lÃ­neas a cualquier costo  
âŒ CÃ³digo sin estructura  
âŒ Evitar patrones siempre

âœ… **KISS sÃ­ es:** Minimizar complejidad accidental y expresar intenciÃ³n claramente.

---

## **ğŸš© SeÃ±ales de que Rompes KISS**

- Interfaces/clases abstractas "por si acaso"
- JerarquÃ­as profundas de herencia
- Reimplementar cosas que ya existen en la plataforma
- MÃ©todos con muchos `if` anidados (arrow code)
- Demasiado estado mutable

---

## **5 Estrategias para Aplicar KISS**

### **1. KISS + YAGNI (You Aren't Gonna Need It)**

âŒ **Error:** Crear `IService` + `AbstractService` + `ConcreteService` cuando solo existe **un** servicio.

âœ… **KISS:** Construye para el requerimiento de **hoy**. Si maÃ±ana aparece una segunda implementaciÃ³n, **refactoriza**.

**Regla:** "Espera a la tercera vez" antes de generalizar.

---

### **2. ComposiciÃ³n sobre Herencia**

**Problema de herencia:** Estructuras rÃ­gidas y frÃ¡giles.

```java
// âœ… ComposiciÃ³n (simple)
final class Car {
    private final Engine engine;
    Car(Engine engine) { this.engine = engine; }
}
```

**AnalogÃ­a:** LEGO (composiciÃ³n) vs Transformable con 20 niveles (herencia).

---

### **3. Usa la API EstÃ¡ndar**

âŒ **Manual (mÃ¡s superficie de error):**
```java
List<String> dest = new ArrayList<>();
for (String item : source) {
    if (item != null) dest.add(item);
}
```

âœ… **Java moderno (intenciÃ³n clara):**
```java
List<String> dest = source.stream()
    .filter(Objects::nonNull)
    .toList();
```

---

### **4. Retorno Temprano (Early Return)**

Evita `if` anidados validando lo negativo primero.

```java
public Money total(Order order) {
    if (order == null) throw new IllegalArgumentException("order");
    if (order.items().isEmpty()) return Money.zero();
    
    // A partir de aquÃ­, tu cerebro "olvida" esos casos
    return pricing.calculate(order.items());
}
```

---

### **5. Inmutabilidad + Records**

```java
// âœ… Record: DTO simple e inmutable
public record Point(int x, int y) {}
```

**Beneficio:** Menos boilerplate, menos lugares para equivocarse.

---

## **âœ… Checklist KISS**

- [ ] Â¿Hay abstracciÃ³n prematura? (YAGNI)
- [ ] Â¿Hay herencia profunda? (preferir composiciÃ³n)
- [ ] Â¿Estoy reinventando API estÃ¡ndar?
- [ ] Â¿Hay `if` anidados evitables? (guard clauses)
- [ ] Â¿Puedo hacer datos inmutables/records?

---

# 2ï¸âƒ£ **Principio de CohesiÃ³n**

## **Â¿QuÃ© es CohesiÃ³n?**

**DefiniciÃ³n:** Mide quÃ© tan **relacionados y enfocados** estÃ¡n los elementos dentro de una clase o mÃ³dulo.

**IntuiciÃ³n:** Una clase cohesiva se puede describir con un propÃ³sito claro y Ãºnico.

---

## **Alta vs Baja CohesiÃ³n**

### âœ… **Alta CohesiÃ³n**
- La clase tiene **una intenciÃ³n dominante**
- Sus mÃ©todos trabajan sobre **los mismos datos del dominio**
- Los cambios tÃ­picos afectan **una zona** del cÃ³digo

### âŒ **Baja CohesiÃ³n**
- Mezcla responsabilidades sin relaciÃ³n fuerte
- MÃ©todos que "no se parecen" entre sÃ­
- Cambios diferentes terminan tocando la misma clase

---

## **AnalogÃ­a: Una Cocina**

- **Alta cohesiÃ³n:** Todo relacionado con cocinar (sartenes, cuchillos, ingredientes)
- **Baja cohesiÃ³n:** Cocina con herramientas de mecÃ¡nica, papeles de contabilidad, juguetes

**Resultado de baja cohesiÃ³n:** Cuesta encontrar cosas, se pierde orden, aumenta el error.

---

## **Ejemplo de Baja CohesiÃ³n**

```java
// âŒ "Utils" - cajÃ³n de sastre
public final class Utils {
    public static String encodeBase64(String s) { ... }
    public static boolean isWeekend(LocalDate date) { ... }
    public static int clamp(int value, int min, int max) { ... }
    public static double computeTax(double subtotal) { ... }
}
```

**Problema:** Son "cosas Ãºtiles" pero **no pertenecen al mismo concepto**.

---

## **Ejemplo de Alta CohesiÃ³n**

```java
// âœ… Clase enfocada en facturaciÃ³n
public final class InvoiceCalculator {
    public BigDecimal subtotal(Invoice invoice) { ... }
    public BigDecimal tax(BigDecimal subtotal, TaxPolicy policy) { ... }
    public BigDecimal total(Invoice invoice, TaxPolicy policy) { ... }
}
```

**Beneficio:** Todo gira alrededor de **calcular una factura**.

---

## **HeurÃ­sticas para Evaluar CohesiÃ³n**

### **1. Test del Nombre**

âœ… `InvoiceCalculator`, `PasswordPolicy`, `OrderRepository`  
âŒ `Utils`, `Helper`, `Manager`, `CommonStuff`

**Si el nombre no indica responsabilidad clara, sospecha.**

---

### **2. Â¿QuÃ© Cambia Junto?**

Alta cohesiÃ³n = las razones de cambio son parecidas:
- Si cambia la polÃ­tica de impuestos â†’ afecta cÃ¡lculo de factura
- Si cambia la codificaciÃ³n Base64 â†’ no deberÃ­a tocar facturaciÃ³n

---

### **3. Â¿Usan los Mismos Datos?**

En alta cohesiÃ³n, los mÃ©todos suelen operar sobre:
- El mismo conjunto de atributos del objeto
- El mismo concepto del dominio

---

# 3ï¸âƒ£ **Principio de Acoplamiento**

## **Â¿QuÃ© es Acoplamiento?**

**DefiniciÃ³n:** Grado de dependencia entre dos mÃ³dulos (clases, componentes).

**IntuiciÃ³n:**
- **Alto acoplamiento:** "Si cambio A, probablemente rompo B, C y D"
- **Bajo acoplamiento:** "Puedo cambiar A sin tocar B"

**AnalogÃ­a:** Enchufe elÃ©ctrico con interfaz estÃ¡ndar.

---

## **Â¿Por QuÃ© Importa?**

### **Alto Acoplamiento genera:**
- Cambios en cascada (efecto dominÃ³)
- Dificultad para probar en aislamiento
- CÃ³digo frÃ¡gil y riesgoso
- ReutilizaciÃ³n limitada

### **Bajo Acoplamiento permite:**
- Cambios localizados
- Pruebas unitarias simples
- Flexibilidad para evolucionar
- MÃ³dulos intercambiables

---

## **Tipos de Acoplamiento (de peor a mejor)**

1. **Acoplamiento de contenido** (peor) - acceso directo a detalles internos
2. **Acoplamiento comÃºn** - variables globales compartidas
3. **Acoplamiento de control** - banderas que controlan flujo
4. **Acoplamiento de datos** - estructuras de datos simples
5. **Acoplamiento por interfaz** (mejor) - depender de abstracciones

---

## **Ejemplo: Acoplamiento de Contenido**

```java
// âŒ Alto acoplamiento
public class Order {
    public List<Item> items = new ArrayList<>();  // pÃºblico, mutable
    public double total = 0.0;
}

public class OrderProcessor {
    public void process(Order order) {
        order.items.clear();  // Â¡Modifica estado interno!
    }
}
}
```

---

## **SoluciÃ³n: Encapsulamiento**

```java
// âœ… Bajo acoplamiento
public class Order {
    private final List<Item> items = new ArrayList<>();
    private double total = 0.0;
    
    public void addItem(Item item) { ... }
    public double getTotal() { return total; }
    public void clear() { items.clear(); total = 0.0; }
}

public class OrderProcessor {
    public void process(Order order) {
        // Solo usa la interfaz pÃºblica
        System.out.println("Processing: $" + order.getTotal());
        order.clear();
    }
}
```

---

## **ğŸš© SeÃ±ales de Alto Acoplamiento**

### **1. Encadenamiento de llamadas**
```java
// âŒ Ley de Demeter violada
customer.getAddress().getCity().getPostalCode().validate();
```

### **2. Importaciones masivas**
```java
import com.company.database.MySQLConnection;
import com.company.email.GmailSender;
// ... 20 imports mÃ¡s
```

### **3. Cambios en cascada**
"Para cambiar el formato de fecha en la UI, tuve que modificar 15 clases"

---

## **Estrategias para Reducir Acoplamiento**

### **1. InyecciÃ³n de Dependencias**

```java
// Antes: alto acoplamiento
public class OrderService {
    private final EmailSender sender = new GmailSender();  // âŒ
}

// DespuÃ©s: bajo acoplamiento
public class OrderService {
    private final EmailSender sender;
    
    public OrderService(EmailSender sender) {  // âœ…
        this.sender = sender;
    }
}
```

---

### **2. Programar contra Interfaces**

```java
// âŒ Acoplado a implementaciÃ³n
ArrayList<String> names = new ArrayList<>();

// âœ… Acoplado a interfaz
List<String> names = new ArrayList<>();
```

---

### **3. Polimorfismo sobre Condicionales**

```java
// âŒ Acoplamiento de control
public class ReportGenerator {
    public void generate(String type) {
        if (type.equals("PDF")) generatePDF();
        else if (type.equals("Excel")) generateExcel();
    }
}

// âœ… Polimorfismo
public interface ReportGenerator {
    void generate();
}

public class PDFReportGenerator implements ReportGenerator { ... }
public class ExcelReportGenerator implements ReportGenerator { ... }
```

---

## **Acoplamiento en MVC**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Vista    â”‚  â† Solo conoce al Controlador
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controlador â”‚  â† Conoce Vista y Modelo
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Modelo    â”‚  â† No conoce a nadie
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Principio:** Las capas inferiores NO deben conocer las superiores.

---

## **âœ… Checklist de Acoplamiento**

- [ ] Â¿Mis clases dependen de **interfaces** en lugar de **implementaciones**?
- [ ] Â¿Puedo probar cada clase de forma **aislada**?
- [ ] Â¿Un cambio en A requiere cambiar B, C, D?
- [ ] Â¿Evito acceder a "tripas" de otros objetos? (`a.getB().getC()`)  
- [ ] Â¿Uso inyecciÃ³n de dependencias en lugar de `new` hardcoded?
- [ ] Â¿Respeto la Ley de Demeter? ("habla solo con amigos cercanos")

---

# 4ï¸âƒ£ **Principio SRP (Responsabilidad Ãšnica)**

## **Â¿QuÃ© es SRP?**

**DefiniciÃ³n:** Una clase debe tener **una sola razÃ³n para cambiar**.

**Clave:** Esa razÃ³n suele estar asociada a un **actor** (persona/Ã¡rea) que pide el cambio.

---

## **Ejemplo: ViolaciÃ³n de SRP**

```java
// âŒ Clase "Dios"
public class Estudiante {
    String nombre;
    double n1, n2;

    public double promedio() { ... }      // LÃ³gica
    public void imprimir() { ... }        // Pantalla
    public void guardar() { ... }         // Archivos
}
```

**Problemas:**
- Si cambia la fÃ³rmula del promedio â†’ tocas la clase
- Si cambias el diseÃ±o del reporte â†’ tocas la clase
- Un cambio puede romper el otro

---

## **SoluciÃ³n: Dividir Responsabilidades**

```java
// âœ… Clase de Datos
public class Estudiante {
    String nombre;
    double n1, n2;
}

// âœ… Clase de LÃ³gica
public class Calculadora {
    public double obtenerPromedio(Estudiante e) {
        return (e.n1 + e.n2) / 2;
    }
}

// âœ… Clase de Pantalla
public class ReporteConsola {
    public void mostrar(Estudiante e) {
        System.out.println("Alumno: " + e.nombre);
    }
}
}
```

---

## **Beneficios de SRP**

| Beneficio | DescripciÃ³n |
|-----------|-------------|
| **Mantenibilidad** | FÃ¡cil localizar dÃ³nde hacer cambios |
| **Pruebas** | Probar calculadora sin necesidad de pantalla |
| **Reuso** | Usar la lÃ³gica en otros programas fÃ¡cilmente |
| **Claridad** | Cada clase tiene un propÃ³sito obvio |

---

## **SÃ­ntomas de ViolaciÃ³n de SRP**

- La clase tiene mÃ©todos de "muchos dominios"
- Las pruebas son difÃ­ciles porque hay que probar todo a la vez
- La clase es muy larga
- Cambios no relacionados se mezclan

---

# ğŸ”— **CÃ³mo se Conectan los 4 Principios**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SIMPLICIDAD (KISS)                             â”‚
â”‚  â””â”€ Menos pasos, menos "magia"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COHESIÃ“N                                       â”‚
â”‚  â””â”€ Cada cosa en su lugar, propÃ³sito claro     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BAJO ACOPLAMIENTO                              â”‚
â”‚  â””â”€ Piezas intercambiables sin romper todo     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SRP                                            â”‚
â”‚  â””â”€ Cada clase responde a un tipo de cambio    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Cuando se cumplen:** El sistema se deja modificar sin miedo.

---

## ğŸ  **AnalogÃ­a Final: Una Casa Bien DiseÃ±ada**

| Principio | AnalogÃ­a en Casa |
|-----------|------------------|
| **Simplicidad** | Pasillos claros, distribuciÃ³n lÃ³gica |
| **CohesiÃ³n** | Cocina para cocinar, baÃ±o para baÃ±arse |
| **Bajo Acoplamiento** | Cambiar lÃ¡mpara sin reconstruir techo |
| **SRP** | Cada habitaciÃ³n tiene un propÃ³sito |

---

## ğŸ“Š **Tabla Comparativa de Principios**

| Principio | Pregunta Clave | Beneficio Principal | Red Flag |
|-----------|----------------|---------------------|----------|
| **KISS** | Â¿Es simple de entender? | Menos bugs | CÃ³digo "ingenioso" que nadie entiende |
| **CohesiÃ³n** | Â¿Todo pertenece junto? | Cambios localizados | Clase "Utils" con todo |
| **Acoplamiento** | Â¿Depende de abstracciones? | Flexibilidad | Cambiar A rompe B, C, D |
| **SRP** | Â¿Una razÃ³n para cambiar? | Mantenibilidad | Clase que hace todo |

---

## ğŸ’¡ **Test del "Junior"**

> "Si le muestro este cÃ³digo a una persona junior reciÃ©n contratada,  
> Â¿entiende quÃ© hace en menos de 2 minutos sin que yo lo explique?"

- **NO:** Hay complejidad innecesaria â†’ refactor
- **SÃ:** Vas bien (aunque no sea "ingenioso")

---

## ğŸ¯ **Reglas de Oro del DiseÃ±o**

### **KISS**
> "La simplicidad es la mÃ¡xima sofisticaciÃ³n"

### **CohesiÃ³n**
> "Cada cosa en su lugar"

### **Acoplamiento**
> "Depende de abstracciones, no de concreciones"

### **SRP**
> "Una clase, una razÃ³n para cambiar"

---

## âœ… **Checklist General de DiseÃ±o**

- [ ] Â¿El cÃ³digo es simple y directo? (KISS)
- [ ] Â¿Cada clase tiene un propÃ³sito claro? (CohesiÃ³n)
- [ ] Â¿Dependo de interfaces, no implementaciones? (Acoplamiento)
- [ ] Â¿Cada clase tiene una sola responsabilidad? (SRP)
- [ ] Â¿Puedo explicar cada clase en una frase?
- [ ] Â¿Los cambios son localizados, no en cascada?
- [ ] Â¿Es fÃ¡cil escribir pruebas unitarias?

---

## ğŸ“š **Para Recordar**

**El enemigo:** La complejidad accidental

**La meta:** Software que sea fÃ¡cil de entender, cambiar y difÃ­cil de romper

**Los 4 pilares:**
1. **KISS** - MantÃ©nlo simple
2. **CohesiÃ³n** - Cosas relacionadas juntas
3. **Bajo Acoplamiento** - Dependencias controladas
4. **SRP** - Una responsabilidad por clase

---

**"El buen diseÃ±o no es agregar cosas hasta que funcione,  
es quitar cosas hasta que ya no puedas quitar mÃ¡s."**

---